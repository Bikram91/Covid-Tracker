!function(){"use strict";!function(){(()=>{const t=document.querySelector(".burger"),e=document.querySelector(".nav-links"),a=document.querySelectorAll(".nav-links li");console.log(a[0].innerHTML),t.addEventListener("click",(()=>{e.classList.toggle("nav-active"),a.forEach(((t,e)=>{t.style.animation=`navlLinkFade 1.5s ease forwards ${e/7+5}s`}))}))})();const t=d3.select("svg").attr("width",900).attr("height",610),e=d3.geoMercator().scale(140).translate([450,610/1.5]);let a=d3.json("./src/scripts/mapdata.JSON"),n=new Map;(async function(){let t=await(async t=>{try{let t=await fetch("./src/scripts/coviddata.JSON");return await t.json()}catch(t){console.error(t)}})();for(let e=0;e<t.Countries.length;e++){let a=t.Countries[e].TotalConfirmed;const o=t.Countries[e].Country;a<1e3?a="#D8E0BB":a<1e4&&a>1e3?a="#b6cec7":a<1e6&&a>1e4?a="#86a3c3":a<1e7&&a>1e6?a="#7268A6":a<1e8&&a>1e7&&(a="#6b3074"),n.set(o,a)}})().then((()=>a)).then((o=>{a.then((function(a){t.append("g").selectAll("path").data(a.features).join("path").attr("class","map").attr("d",d3.geoPath().projection(e)).attr("fill",(t=>n.get(t.properties.name))).append("country").text((t=>t.properties.name))}))}));let o,r,c=document.querySelector("#my_dataviz"),s=document.querySelector("#country-name"),i=document.querySelector("#country-total-cases"),l=document.querySelector("#country-total-deaths"),d=[],u=[],y=[];s.innerHTML="Globally",i.innerHTML="Total Active Cases: 651,595,573",l.innerHTML="Total Deaths: 6,652,007";const p=async t=>{if(void 0===t)return"";try{let e=await fetch(`https://api.covid19api.com/live/country/${t}/status/confirmed/date/2022-09-10T13:13:30Z`);return await e.json()}catch(t){console.error(t)}};c.addEventListener("click",(async t=>{t.preventDefault(),d=[],y=[],u=[];const e=t.path[0];if(document.querySelector("#data"),document.querySelector("#deaths"),document.querySelector(".country-name"),"path"===t.target.tagName){const a=e.querySelector("country").innerHTML;s.innerHTML=a;const n=await p(a);let c=0,h=0;for(let v=0;v<n.length;v++)c+=n[v].Active,h+=n[v].Deaths;i.innerHTML=`Total Active Cases: ${c}`,l.innerHTML=`Total Deaths: ${h}`;const m=await(async t=>{if(void 0===t)return"";try{let e=await fetch(`https://api.covid19api.com/country/${t}?from=2020-03-01T00:00:00Z&to=2022-12-01T00:00:00Z`);return await e.json()}catch(t){console.error(t)}})(a);for(let T=0;T<m.length-91;T+=90)d.push(m[T].Confirmed),u.push(m[T].Date.slice(0,10)),y.push(m[T].Deaths);function g(){const t=document.getElementById("chart1");o&&o.destroy();const e=t.getContext("2d");o=new Chart(e,{type:"line",data:{labels:u,datasets:[{label:`Total covid cases in ${a}`,data:d,backgroundColor:"rgba(255, 99, 132, 1)",borderColor:"rgba(255, 99, 132, 1)",tension:.4}]},options:{maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}function f(){const t=document.getElementById("chart5").getContext("2d");r&&r.destroy(),r=new Chart(t,{type:"line",data:{labels:u,datasets:[{label:`Total deaths cases in ${a}`,data:y,backgroundColor:"rgba(255, 99, 132, 1)",borderColor:"rgba(255, 99, 132, 1)",tension:.4}]},options:{maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}g(),f()}}));const h=d3.select("body").append("div").attr("class","tooltip").style("opacity",0).style("width","fit-content");c.addEventListener("mouseover",(async t=>{t.preventDefault();const[e,a]=d3.pointer(t),n=t.path[0];if(document.querySelector(".country-name"),"path"===t.target.tagName){const t=n.querySelector("country").innerHTML,o=await p(t);let r=0,c=0;for(let t=0;t<o.length;t++)r+=o[t].Active,c+=o[t].Deaths;const s=`<h4>${t}</h4>  <p>Active cases: ${r}</p><p>Total Deaths: ${c}</p>`;h.transition().duration(200).style("opacity",.9),h.html(s).style("left",e+100+"px").style("top",a+100+"px")}})),c.addEventListener("mouseout",(async t=>{h.transition().duration(500).style("opacity",0)}))}()}();
//# sourceMappingURL=main.js.map